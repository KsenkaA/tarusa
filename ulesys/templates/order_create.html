<!DOCTYPE html>
<html lang="en">
<head>
    {% load staticfiles %}
    {% load crispy_forms_tags %}
    <meta charset="UTF-8">
    <title>Tarusa system | Создать счет</title>
    <link type="text/css" rel="stylesheet" href={% static 'bootstrap-select.css' %}>
    <link rel="stylesheet" href={% static 'bootstrap.min.css' %}></head>
<style>

        tr.header
            {
                cursor:pointer;
            }
        a:visited {
            text-decoration: none;
            color: white;
        }
        a {
            color: white;
        }
        a:hover {
            text-decoration: underline;
            color: white;
        }

        a:active {
            text-decoration: underline;
            color: white;
        }
    </style>
<body >
<div style="height: 70px; background-color: steelblue">
        <a href="/"><div style="width: 40%; float: left; height: 70px">
            <p style="font-family: 'Helvetica Neue'; font-size: 30px; color: white; padding-left:50px; vertical-align: middle; line-height: 70px; ">Tarusa system</p>
        </div></a>
        {% if user.is_authenticated %}
        <div style="float: right; width: 100px; height: 100%; color: white">
                <div style="float: left; font-size: 25px; vertical-align: middle; line-height: 70px;" ><a href="/logout/">Выход</a></div>
        </div>
        {% else %}
        <div style="float: right; width: 100px; height: 100%; color: white">
            <div style="float: left; font-size: 25px; padding: 14px;"><a href="/login/">Вход</a></div>
        </div>
        {% endif %}
    </div>
<div style="padding: 20px; text-align: center;">
    <h1 style="padding-bottom: 20px">Создать новый счет</h1>
    <form method="post" action="">
        <div class="row justify-content-around">
            <div class="col-4">
                {% csrf_token %}
                <strong>{{ form.created.label_tag }}</strong><br>
                {{ form.created }}<br>
                <strong>{{ form.manager.label_tag }}</strong>
                {{ form.manager }}
                <strong>{{ form.partner.label_tag }}</strong>
                {{ form.partner }}
                <strong>{{ form.ref.label_tag }}</strong>
                {{ form.ref }}
                <strong>{{ form.another_manager.label_tag }}</strong>
                {{ form.another_manager }}
                <strong>{{ form.last_name.label_tag }}</strong>
                {{ form.last_name }}
                <strong>{{ form.tour_starts.label_tag }}</strong><br>
                {{ form.tour_starts }}<br>
                <strong>{{ form.end_month.label_tag }}</strong>
                {{ form.end_month }}
            </div>
            <div class="col-6">
                <strong><label>Услуги:</label></strong>
                <div style="height: 362px; overflow:auto; border: 1px solid #ced4da; border-radius: .25rem;" >
                    <table class="table" id="table">
                        <tr>
                            <td style="width: 550px">Название услуги</td>
                            <td>Цена(в евро)</td>
                        </tr>
                        <tr>
                            <td><input style="width: 100%" name="name_1"></td>
                            <td><input style="width: 90%" name="money_1"></td>
                        </tr>
                        <tr id="last_tr" class="1">
                            <td></td>
                            <td>
                                <button type="button" class="btn btn-default" id="add_service" style="border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186);">+</button>
                            </td>
                        </tr>
                    </table>
                </div>
                <strong>{{ form.comments.label_tag }}</strong>
                {{ form.comments }}
            </div>
        </div>
        <br>

        <button type="submit" class="btn btn-link" style="border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186); width: 40%"> Создать счет</button>
    </form>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src={% static 'bootstrap.min.js' %}></script>
    <script src={% static 'bootstrap-select.js' %}></script>
    <script>
      $(document).ready(function () {
        $('.selectpicker').selectpicker();
      });
    </script>
    <script>
        $('#add_service').click(function() {
            var tr_class = parseInt($('#last_tr').attr('class'), 10) + 1;
            $('#last_tr').before('<tr><td><input style="width: 100%" name="name_' + tr_class.toString() + '"></td><td><input style="width: 90%" name="money_' + tr_class.toString() + '"></td></tr>');
            $("#last_tr").attr('class', tr_class);
        });
    </script>
    </div>
</body>
</html>